# מערכת ניהול כרטיסי דלק - גרסה רב-משתמשים

## מה השתנה?

המערכת שלך עכשיו תומכת במספר משתמשים עם הרשאות שונות!

## איך זה עובד?

### 🔐 התחברות למערכת
- **משתמש מנהל ברירת מחדל:**
  - שם משתמש: `admin`
  - סיסמה: `admin123`

### 👥 סוגי משתמשים

#### 1. **מנהל (Admin)**
- ✅ גישה מלאה לכל הנתונים
- ✅ הוספת/עדכון/מחיקת כרטיסים
- ✅ ניהול משתמשים אחרים
- ✅ הורדת נתונים

#### 2. **עובד (Worker)**
- ✅ צפייה בנתונים
- ✅ הוספת כרטיסים חדשים
- ✅ עדכון כרטיסים קיימים
- ❌ לא יכול לנהל משתמשים

#### 3. **צופה (Viewer)**
- ✅ צפייה בנתונים בלבד
- ❌ לא יכול להוסיף/עדכן/למחוק

## איך להשתמש?

### שלב 1: התחברות
1. פתח את `index.html`
2. התחבר עם המשתמש המנהל
3. לחץ על "פאנל מנהל" → "ניהול משתמשים"

### שלב 2: הוספת משתמשים
1. מלא את הפרטים:
   - שם משתמש
   - סיסמה
   - שם מלא
   - תפקיד (מנהל/עובד/צופה)
2. לחץ "הוסף משתמש"

### שלב 3: ניהול הרשאות
- **ערוך משתמש:** לחץ "ערוך" ליד המשתמש
- **מחק משתמש:** לחץ "מחק" (לא ניתן למחוק את המנהל הראשי)
- **שנה סיסמה:** בעריכה, השאר ריק אם לא רוצה לשנות
- **שנה תפקיד:** בעריכה, הכנס admin/worker/viewer

## מה חדש במערכת?

### 🆕 תכונות חדשות:
1. **מסך התחברות** - כל משתמש צריך להתחבר
2. **הרשאות דינמיות** - כל משתמש רואה רק מה שמותר לו
3. **מעקב אחר משתמשים** - כל פעולה מתועדת עם שם המשתמש
4. **פאנל מנהל** - ניהול משתמשים והרשאות
5. **כפתור יציאה** - יציאה מהמערכת

### 📊 מידע נוסף בטבלה:
- עמודה "משתמש" מציגה מי יצר/עדכן כל כרטיס
- הורדת Excel כוללת מידע על המשתמשים

## אבטחה

### 🔒 הגנות:
- כל פעולה נבדקת לפי הרשאות המשתמש
- לא ניתן לבצע פעולות ללא הרשאה מתאימה
- כל שינוי מתועד עם שם המשתמש
- המנהל הראשי לא ניתן למחיקה

### 💾 שמירת נתונים:
- כל הנתונים נשמרים ב-localStorage
- משתמשים נשמרים בנפרד מהכרטיסים
- המערכת זוכרת את המשתמש המחובר

## דוגמאות שימוש:

### תרחיש 1: מנהל מערכת
1. התחבר כ-admin
2. הוסף עובדים חדשים
3. צפה בכל הנתונים
4. הורד דוחות

### תרחיש 2: עובד בתחנת דלק
1. התחבר עם המשתמש שלך
2. הוסף כרטיסים חדשים
3. עדכן כרטיסים קיימים
4. צפה בנתונים

### תרחיש 3: מנהל שמעוניין רק לצפות
1. התחבר כ-viewer
2. צפה בנתונים בלבד
3. הורד דוחות

## פתרון בעיות:

### ❓ שכחתי סיסמה
- רק המנהל יכול לשנות סיסמאות
- התחבר כ-admin וערוך את המשתמש

### ❓ משתמש לא יכול לבצע פעולה
- בדוק שהמשתמש מחובר
- בדוק שיש לו הרשאה מתאימה
- המנהל יכול לשנות הרשאות

### ❓ רוצה לאפס הכל
- מחק את localStorage בדפדפן
- רענן את הדף
- המערכת תחזור למצב ברירת מחדל

## יתרונות המערכת החדשה:

✅ **בקרה מלאה** - אתה שולט על מי יכול לעשות מה  
✅ **מעקב אחר פעילות** - רואה מי עשה מה  
✅ **גמישות** - הוסף/הסר משתמשים בקלות  
✅ **אבטחה** - כל פעולה מוגנת בהרשאות  
✅ **פשוט לשימוש** - ממשק ידידותי למשתמש  

---

**המערכת מוכנה לשימוש!** 🚀




